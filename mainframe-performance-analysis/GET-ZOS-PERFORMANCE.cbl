       IDENTIFICATION DIVISION.
       PROGRAM-ID. GET-ZOS-PERFORMANCE.

       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT PERFORMANCE-FILE ASSIGN TO 'PERFORMANCE-DATA'
               ORGANIZATION IS LINE SEQUENTIAL.

       DATA DIVISION.
       FILE SECTION.
       FD  PERFORMANCE-FILE.
       01  PERFORMANCE-RECORD.
           05 CPU-UTILIZATION         PIC 99V99.
           05 MEMORY-UTILIZATION      PIC 99V99.
           05 TRANSACTION-THROUGHPUT  PIC 99999.

       WORKING-STORAGE SECTION.
       01 END-OF-FILE                 PIC X VALUE 'N'.

       PROCEDURE DIVISION.
           OPEN INPUT PERFORMANCE-FILE
           PERFORM READ-DATA UNTIL END-OF-FILE = 'Y'
           CLOSE PERFORMANCE-FILE
           STOP RUN.

       READ-DATA.
           READ PERFORMANCE-FILE INTO PERFORMANCE-RECORD
               AT END
                   MOVE 'Y' TO END-OF-FILE
               NOT AT END
                   DISPLAY 'CPU: ' CPU-UTILIZATION
                   DISPLAY 'Memory: ' MEMORY-UTILIZATION
                   DISPLAY 'Throughput: ' TRANSACTION-THROUGHPUT
           END-READ.
